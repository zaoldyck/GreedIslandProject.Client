@use '@angular/material' as mat;
.utilities-background {
  background-image: linear-gradient(74deg, rgba(236, 236, 236,0.05) 0%, rgba(236, 236, 236,0.05) 13%,transparent 13%, transparent 64%,rgba(55, 55, 55,0.05) 64%, rgba(55, 55, 55,0.05) 71%,rgba(239, 239, 239,0.05) 71%, rgba(239, 239, 239,0.05) 100%),linear-gradient(170deg, rgba(8, 8, 8,0.05) 0%, rgba(8, 8, 8,0.05) 1%,transparent 1%, transparent 60%,rgba(9, 9, 9,0.05) 60%, rgba(9, 9, 9,0.05) 80%,rgba(198, 198, 198,0.05) 80%, rgba(198, 198, 198,0.05) 100%),linear-gradient(118deg, rgba(134, 134, 134,0.05) 0%, rgba(134, 134, 134,0.05) 30%,transparent 30%, transparent 43%,rgba(85, 85, 85,0.05) 43%, rgba(85, 85, 85,0.05) 47%,rgba(103, 103, 103,0.05) 47%, rgba(103, 103, 103,0.05) 100%),linear-gradient(249deg, rgba(178, 178, 178,0.05) 0%, rgba(178, 178, 178,0.05) 8%,transparent 8%, transparent 47%,rgba(161, 161, 161,0.05) 47%, rgba(161, 161, 161,0.05) 61%,rgba(19, 19, 19,0.05) 61%, rgba(19, 19, 19,0.05) 100%),linear-gradient(90deg, rgb(255,255,255),rgb(255,255,255));
}
.module-title {
  margin: 0;
  font-weight: 500;
}
/* 按钮伪链接样式 */
.btn-as-link {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  color: var(--mat-sys-primary, #1976d2);
  cursor: pointer;
  text-decoration: underline;
  font: inherit;
  appearance: none;

  &:hover {
    text-decoration: none;
  }

  &:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 2px;
    text-decoration: none;
  }

  &:disabled {
    opacity: .5;
    cursor: default;
    text-decoration: none;
    pointer-events: none;
  }
}

 
.pointer {
  cursor: pointer;
}
.full-width {
  width: 100%;
}
.mat-shadow-1 {
  box-shadow: var(--mat-sys-level1);
}
.mat-shadow-2 {
  box-shadow: var(--mat-sys-level2);
}
.mat-shadow-3 {
  box-shadow: var(--mat-sys-level3);
}
.mat-shadow-4 {
  box-shadow: var(--mat-sys-level4);
}
.mat-shadow-5 {
  box-shadow: var(--mat-sys-level5);
}
.warn-button {
  @include mat.button-overrides((text-label-text-color:var(--mat-sys-error),tonal-container-color:var(--mat-sys-on-primary), tonal-label-text-color:var(--mat-sys-error)) );
}

.warn-icon-button {
  @include mat.icon-button-overrides((icon-color:var(--mat-sys-error) ));
}
.warn-icon {
  @include mat.icon-overrides((color:var(--mat-sys-error) ));
}
.switch-slide-toggle {
  @include mat.slide-toggle-overrides((unselected-handle-horizontal-margin:0px 0px 0px 4px,unselected-handle-size:var(--mat-slide-toggle-selected-handle-size, 24px),unselected-focus-handle-color:var(--mat-sys-primary-container),unselected-pressed-handle-color:var(--mat-sys-primary-container),unselected-hover-handle-color:var(--mat-sys-primary-container),unselected-pressed-state-layer-color:var(--mat-sys-primary), unselected-focus-state-layer-color:var(--mat-sys-primary),unselected-hover-state-layer-color:var(--mat-sys-primary),unselected-handle-color:var(--mat-sys-on-primary),unselected-track-color: var(--mat-sys-primary), unselected-focus-track-color: var(--mat-sys-primary), track-outline-color: var(--mat-sys-primary),unselected-hover-track-color: var(--mat-sys-primary),unselected-pressed-track-color:var(--mat-sys-primary) ));
}
.warn-color {
  color:var(--mat-sys-error);
}
.rotate-180 {
  transform: rotate(180deg);
}
.menu-divider {
  margin: 4px 0px !important;
}
.nav-group-header {
  .icon-box {
    margin-left: 4px !important;
    margin-right: 8px !important;
  }

  [matListItemIcon] {
    font-size: 20px !important;
    width: 20px !important;
    height: 20px !important;
  }

  &:hover [matListItemIcon] {
    color: var(--mat-sys-primary) !important;
  }

  [matListItemTitle] {
    font-size: 0.8em !important;
  }

  &:hover [matListItemTitle] {
    color: var(--mat-sys-primary) !important;
  }
}
.expandable-header {
  display: flex;
  align-items: center; /* 垂直居中 */

  &:hover mat-icon {
    color: var(--mat-sys-primary) !important;
  }
 
  span {
    font-size: 14px !important;
  }

  &:hover span {
    color: var(--mat-sys-primary) !important;
  }
}
.expandable-header-small {
  display: flex;
  align-items: center; /* 垂直居中 */

  &:hover mat-icon {
    color: var(--mat-sys-primary) !important;
  }

  mat-icon {
    font-size: 20px !important;
    width: 20px !important;
    height: 20px !important;
  }

  span {
    font-size: 12px !important;
  }

  &:hover span {
    color: var(--mat-sys-primary) !important;
  }
}


.user-avatar-btn {
  /* 可在外部覆盖的 CSS 变量 */
  --avatar-size: 40px;
  --ring-gap: 2px;
  width: calc(var(--avatar-size) + var(--ring-gap) * 2);
  height: calc(var(--avatar-size) + var(--ring-gap) * 2);
  border-radius: 50%;
  display: inline-grid;
  place-items: center;
  user-select: none;
  outline: none;
  padding: 0;
  /* 默认当作“可交互按钮” */
  cursor: pointer;
  --angle: 0deg;
  background: linear-gradient( var(--angle), var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );
  animation: spin-angle 4s linear infinite;
  /* ✅ 只有“不是 static”才有 hover/focus 效果 */
  &:not(.is-static):hover {
    transform: scale(1.03);
    filter: brightness(1.05);
  }

  &:not(.is-static):focus-visible {
    box-shadow: 0 0 0 3px rgba(110, 142, 245, 0.35);
  }

  .user-avatar-img,
  .user-avatar-fallback {
    width: var(--avatar-size);
    height: var(--avatar-size);
    border-radius: 50%;
    display: grid;
    place-items: center;
    object-fit: cover;
    overflow: hidden;
  }

  .user-avatar-fallback {
    background-image: linear-gradient(to top, #f3e7e9 0%, #e3eeff 99%, #e3eeff 100%);
    font-weight: 600;
    font-size: calc(var(--avatar-size) / 2.8);
    letter-spacing: 0.5px;
    text-transform: uppercase;
  }
  /* ✅ static 模式：纯展示 */
  &.is-static {
    cursor: default;
    animation: none;
    transform: none;
    filter: none;
    /* 如果你希望外环也不要渐变，可以改成纯色/透明 */
    /* background: transparent; */
    /* 或者保留渐变但不转：上面 animation:none 已经实现 */
  }
}

/* 尺寸预设 */
.user-avatar-btn.avatar-sm {
  --avatar-size: 24px;
  --ring-gap: 1px;
}

